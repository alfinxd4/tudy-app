(()=>{"use strict";var t={};t.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),(()=>{var e;t.g.importScripts&&(e=t.g.location+"");var a=t.g.document;if(!e&&a&&(a.currentScript&&"SCRIPT"===a.currentScript.tagName.toUpperCase()&&(e=a.currentScript.src),!e)){var r=a.getElementsByTagName("script");if(r.length)for(var o=r.length-1;o>-1&&(!e||!/^http(s?):/.test(e));)e=r[o--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),t.p=e+"../"})(),t.p,t.p,t.p,t.p,t.p,t.p,t.p,t.p,t.p,t.p,t.p,t.p,t.p,t.p,$(document).ready((function(){const t=window.location.pathname;let e=$("#input-username");const a=$("#btn-input-username");$(a).on("click",(t=>{t.preventDefault(),""!==e.val().trim()?(localStorage.setItem("user",e.val().trim()),window.location.href="todo.html"):alert("Please enter your name-!")})),"/dist/todo.html"===t||"/dist/task-work.html"===t||"/dist/task-study.html"===t||"/dist/task-sport.html"===t||"/dist/task-fun.html"===t||"/dist/task-family.html"===t||"/dist/task-other.html"===t?null===localStorage.getItem("user")&&(window.location.href="index.html"):"/dist/index.html"!==t&&"/dist/"!==t||null!==localStorage.getItem("user")&&(window.location.href="todo.html");const r=new Date;$("#current-date").text(r.getDate().toString().padStart(2,"0")),$("#current-month").text(["January","February","March","April","May","June","July","August","September","October","November","December"][r.getMonth()]),$("#current-day").text(["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][r.getDay()]),$("#username").text(localStorage.getItem("user"));const o=t=>{null===localStorage.getItem(t)&&localStorage.setItem(t,JSON.stringify([]))};o("taskWork"),o("taskStudy"),o("taskSport"),o("taskFun"),o("taskFamily"),o("taskOther");const s=()=>{const t=["taskWork","taskStudy","taskSport","taskFun","taskFamily","taskOther"].map((t=>(JSON.parse(localStorage.getItem(t))||[]).filter((t=>!t.isCompleted)).length)).reduce(((t,e)=>t+e),0);$("#total-all-task").text(t)},l=(t,e)=>{const a=(JSON.parse(localStorage.getItem(t))||[]).filter((t=>!t.isCompleted));e.text(a.length)};s();const d=(t,e,a)=>{const r=$("<div></div>").addClass("mb-8"),o=$("<div></div>").addClass("flex items-center space-x-5"),d=$("<input type='checkbox'>").addClass("peer size-6 text-emerald-400 bg-gray-100 border-gray-500 rounded focus:ring-emerald-500 cursor-pointer");d.prop("checked",t.isCompleted);const c=$(`<label>${t.title}</label>`).addClass("peer-checked:italic peer-checked:line-through flex-1 font-semibold text-gray-900 dark:text-gray-100"),m=$("<i></i>").addClass("fa-solid fa-trash text-lg font-semibold text-gray-500 dark:text-gray-100 hover:text-red-600  dark:hover:text-red-600 cursor-pointer");m.attr("id",`delete-modal-${t.id}`),m.attr("data-modal-target",`delete-modal-${t.id}`),m.attr("data-modal-toggle",`delete-modal-${t.id}`);const p=$("<hr>").addClass("mt-7 border-gray-300");r.append(o),o.append(d),o.append(c),o.append(m),r.append(p),$(a).append(r),m.on("click",(()=>{$(".delete-modal").attr({id:`delete-modal-${t.id}`,"aria-modal":"true",role:"dialog"}).removeAttr("aria-hidden").removeClass("hidden").addClass("flex"),$(".data-modal-hide").attr("data-modal-hide",`delete-modal-${t.id}`),$(".data-modal-hide, .delete-modal").on("click",(()=>{$("div.bg-gray-900\\/50.dark\\:bg-gray-900\\/80.fixed.inset-0.z-40").remove(),$("body").removeClass("overflow-hidden"),$(".delete-modal").removeAttr("id aria-modal role").attr("aria-hidden","true").addClass("hidden").removeClass("flex"),$(".data-modal-hide").removeAttr("data-modal-hide")})),$("#btn-confirm-delete").on("click",(()=>{n(t.id,e,r),$(".delete-modal").attr("aria-hidden","true").addClass("hidden").removeClass("flex").removeAttr("id aria-modal role"),$("body").removeClass("overflow-hidden")}))})),d.on("change",(function(){t.isCompleted=this.checked,i(t.id,e,t.isCompleted),l(`task${e}`,$(`#task-${e.toLowerCase()}`)),s()}))},i=(t,e,a)=>{let r=JSON.parse(localStorage.getItem(`task${e}`))||[];r=r.map((e=>(e.id===t&&(e.isCompleted=a),e))),localStorage.setItem(`task${e}`,JSON.stringify(r))};$("#btn-submit-add-task").on("click",(()=>{(()=>{const t=$("input.category:checked").val()||null,e=$("#input-new-task").val().trim();if(!e||!t)return void alert("Please enter a task and select a category.");const a={id:+new Date,title:e,category:t,isCompleted:!1};let r=JSON.parse(localStorage.getItem(`task${t}`))||[];r.push(a),localStorage.setItem(`task${t}`,JSON.stringify(r));const o=`#task-list-${t.toLowerCase()}`;d(a,t,o),s(),l(`task${t}`,$(`#task-${t.toLowerCase()}`))})()})),["taskWork","taskStudy","taskSport","taskFun","taskFamily","taskOther"].forEach((t=>{const e=JSON.parse(localStorage.getItem(t))||[],a=t.replace("task",""),r=`#task-list-${a.toLowerCase()}`;e.forEach((t=>d(t,a,r)))})),l("taskWork",$("#task-work")),l("taskStudy",$("#task-study")),l("taskSport",$("#task-sport")),l("taskFun",$("#task-fun")),l("taskFamily",$("#task-family")),l("taskOther",$("#task-other"));const n=(t,e,a)=>{let r=JSON.parse(localStorage.getItem(`task${e}`))||[];r=r.filter((e=>e.id!==t)),localStorage.setItem(`task${e}`,JSON.stringify(r)),JSON.parse(localStorage.getItem(`task${e}`)),a.remove(),l(`task${e}`,$(`#task-${e.toLowerCase()}`)),s()},c=localStorage.getItem("theme"),m=()=>{document.documentElement.classList.add("dark"),localStorage.setItem("theme","dark")},p=()=>{document.documentElement.classList.contains("dark")&&(document.documentElement.classList.remove("dark"),localStorage.setItem("theme","light"))},u=()=>{document.documentElement.classList.contains("dark")?p():m()};$("#btn-switch").on("click",(()=>{u()})),null!=c&&("dark"==c||"dark"==u?m():p()),$("#btn-submit-update-username").on("click",(()=>{localStorage.setItem("user",$("#input-new-username").val().trim())}))}))})();